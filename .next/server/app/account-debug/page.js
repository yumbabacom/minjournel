(()=>{var e={};e.id=368,e.ids=[368],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var n=r(5239),o=r(8088),s=r(8170),a=r.n(s),i=r(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["account-debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8299)),"/home/runner/work/minjournel/minjournel/app/account-debug/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2648)),"/home/runner/work/minjournel/minjournel/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/runner/work/minjournel/minjournel/app/account-debug/page.js"],u={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/account-debug/page",pathname:"/account-debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2263:()=>{},2648:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var n=r(7413);r(2704);var o=r(6085),s=r.n(o),a=r(7269),i=r.n(a);let l={title:"Journel - Your Personal Journaling Platform",description:"Capture your thoughts, reflect on your days, and discover yourself."};function d({children:e}){return(0,n.jsx)("html",{lang:"en",className:`${s().variable} ${i().variable}`,children:(0,n.jsx)("body",{children:e})})}},2688:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4082:(e,t,r)=>{Promise.resolve().then(r.bind(r,8299))},5407:()=>{},5609:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(687),o=r(3210),s=r(5659),a=r(5814),i=r.n(a);function l(){let[e,t]=(0,o.useState)(null),[r,a]=(0,o.useState)([]),[l,d]=(0,o.useState)(!0),[c,u]=(0,o.useState)(""),[h,p]=(0,o.useState)(""),[m,x]=(0,o.useState)({name:"Test Account",balance:"10000",tag:"personal"}),g=async()=>{if(!e?.id&&!e?._id)return void p("No user ID found");let t=e?.id||e?._id;p("Fetching accounts...");try{let e=s.A.get("auth-token")||localStorage.getItem("auth-token"),r=await fetch(`/api/accounts?userId=${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),n=await r.json();p(JSON.stringify(n,null,2)),r.ok&&a(n.accounts||[])}catch(e){p("Error: "+e.message)}},b=async()=>{if(!e?.id&&!e?._id)return void p("No user ID found");let t=e?.id||e?._id;p("Creating account...");try{let e=s.A.get("auth-token")||localStorage.getItem("auth-token"),r=await fetch("/api/accounts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({userId:t,...m})}),n=await r.json();p(JSON.stringify(n,null,2)),r.ok&&g()}catch(e){p("Error: "+e.message)}},v=async t=>{if(!e?.id&&!e?._id)return void p("No user ID found");let r=e?.id||e?._id;p(`Deleting account ${t}...`);try{let e=s.A.get("auth-token")||localStorage.getItem("auth-token"),n=await fetch(`/api/accounts?accountId=${t}&userId=${r}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),o=await n.json();p(JSON.stringify(o,null,2)),n.ok&&g()}catch(e){p("Error: "+e.message)}},f=async()=>{p("Testing health check...");try{let e=await fetch("/api/accounts?health=true"),t=await e.json();p(JSON.stringify(t,null,2))}catch(e){p("Error: "+e.message)}};return(0,n.jsxs)("div",{className:"container mx-auto p-6 max-w-6xl",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)(i(),{href:"/dashboard",className:"text-blue-600 hover:underline flex items-center",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),(0,n.jsx)("h1",{className:"text-2xl font-bold mt-4",children:"Account Debugging Tool"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Use this page to test account operations"})]}),l?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Authentication Info"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"User ID:"})," ",e?.id||e?._id||"Not found"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Email:"})," ",e?.email||"Not found"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Auth Token:"}),(0,n.jsx)("div",{className:"text-xs bg-gray-100 p-2 rounded mt-1 overflow-x-auto",children:c?c.length>20?`${c.substring(0,20)}...`:c:"Not found"})]})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Test Operations"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("button",{onClick:f,className:"w-full py-2 px-4 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200",children:"Test Health Check"}),(0,n.jsx)("button",{onClick:g,className:"w-full py-2 px-4 bg-green-100 text-green-700 rounded-lg hover:bg-green-200",children:"Fetch Accounts"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-md font-medium",children:"Create New Account"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsx)("input",{type:"text",placeholder:"Account Name",value:m.name,onChange:e=>x({...m,name:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded"}),(0,n.jsx)("input",{type:"number",placeholder:"Balance",value:m.balance,onChange:e=>x({...m,balance:e.target.value}),className:"px-3 py-2 border border-gray-300 rounded"})]}),(0,n.jsxs)("select",{value:m.tag,onChange:e=>x({...m,tag:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded",children:[(0,n.jsx)("option",{value:"personal",children:"Personal"}),(0,n.jsx)("option",{value:"funded",children:"Funded"}),(0,n.jsx)("option",{value:"demo",children:"Demo"}),(0,n.jsx)("option",{value:"forex",children:"Forex"}),(0,n.jsx)("option",{value:"crypto",children:"Crypto"})]}),(0,n.jsx)("button",{onClick:b,className:"w-full py-2 px-4 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200",children:"Create Account"})]})]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"API Response"}),(0,n.jsx)("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-x-auto max-h-60 overflow-y-auto",children:h||"No response yet"})]}),(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Accounts List"}),0===r.length?(0,n.jsx)("p",{className:"text-gray-500",children:"No accounts found"}):(0,n.jsx)("div",{className:"space-y-3",children:r.map(e=>(0,n.jsxs)("div",{className:"p-3 border border-gray-200 rounded flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.name}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["$",parseFloat(e.balance).toFixed(2)]}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:[e.tag," â€¢ ID: ",e._id]})]}),(0,n.jsx)("button",{onClick:()=>v(e._id),className:"py-1 px-3 bg-red-100 text-red-700 rounded hover:bg-red-200 text-sm",children:"Delete"})]},e._id))})]})]})]})]})}},5659:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>o});var o=function e(t,r){function o(e,o,s){if("undefined"!=typeof document){"number"==typeof(s=n({},r,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in s)s[i]&&(a+="; "+i,!0!==s[i]&&(a+="="+s[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var s=r[o].split("="),a=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(n[i]=t.read(a,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},5840:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},7642:(e,t,r)=>{Promise.resolve().then(r.bind(r,5609))},8299:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/minjournel/minjournel/app/account-debug/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/minjournel/minjournel/app/account-debug/page.js","default")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,17,814],()=>r(863));module.exports=n})();